<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drug Search & Tracker API Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f2f2f2;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flow-step {
            background-color: #ffffff;
            border: 2px solid #b3d1d8;
            color: #003f5c;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            text-align: center;
            font-weight: 500;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            flex-grow: 1;
        }
        .flow-arrow {
            color: #7e9fad;
            font-size: 2rem;
            line-height: 1;
        }
        .code-block {
            background-color: #4d6f83;
            color: #f2f2f2;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-family: monospace;
            font-size: 0.875rem;
            white-space: pre-wrap;
            word-break: break-all;
        }
        .method-tag {
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-weight: 700;
            font-size: 0.8rem;
            text-transform: uppercase;
        }
        .method-post { background-color: #28a745; color: white; }
        .method-get { background-color: #007bff; color: white; }
        .method-delete { background-color: #dc3545; color: white; }
    </style>
</head>
<body class="text-[#003f5c]">
    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-6xl font-black text-[#003f5c] mb-2">Drug Search & Tracker API</h1>
            <p class="text-lg md:text-xl text-[#4d6f83] max-w-4xl mx-auto">A robust Laravel-based service for searching drug information from the NLM RxNorm APIs and managing user-specific medication lists.</p>
        </header>

        <main class="space-y-12">

            <section id="features">
                <h2 class="text-3xl font-bold text-center mb-8">Core Architecture & Features</h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <div class="text-4xl mb-3">üîê</div>
                        <h3 class="text-xl font-bold mb-2">Secure Authentication</h3>
                        <p class="text-[#4d6f83]">Token-based user registration and login powered by Laravel Sanctum.</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <div class="text-4xl mb-3">üîç</div>
                        <h3 class="text-xl font-bold mb-2">Public Drug Search</h3>
                        <p class="text-[#4d6f83]">Unauthenticated endpoint to search for drugs via the official RxNorm API.</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <div class="text-4xl mb-3">üíä</div>
                        <h3 class="text-xl font-bold mb-2">Medication Tracking</h3>
                        <p class="text-[#4d6f83]">Users can add, view, and delete drugs from their personal medication list.</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <div class="text-4xl mb-3">‚ö°Ô∏è</div>
                        <h3 class="text-xl font-bold mb-2">API Caching Layer</h3>
                        <p class="text-[#4d6f83]">External API responses are cached for 24 hours to boost performance.</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <div class="text-4xl mb-3">üö¶</div>
                        <h3 class="text-xl font-bold mb-2">Request Rate Limiting</h3>
                        <p class="text-[#4d6f83]">The public search endpoint is limited to 10 requests/minute per IP.</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6 text-center">
                        <div class="text-4xl mb-3">‚öôÔ∏è</div>
                        <h3 class="text-xl font-bold mb-2">Clean Integration</h3>
                        <p class="text-[#4d6f83]">A dedicated service class handles all communication with the RxNorm API.</p>
                    </div>
                </div>
            </section>

            <section id="workflow" class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-3xl font-bold text-center mb-8">Developer API Workflow</h2>
                <div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-2 flex-wrap">
                    <div class="flow-step">1. Register User</div>
                    <div class="flow-arrow self-center">‚ûî</div>
                    <div class="flow-step">2. Login & Get Token</div>
                    <div class="flow-arrow self-center">‚ûî</div>
                    <div class="flow-step">3. Search Drugs</div>
                    <div class="flow-arrow self-center">‚ûî</div>
                    <div class="flow-step">4. Add Drug to List</div>
                    <div class="flow-arrow self-center">‚ûî</div>
                    <div class="flow-step">5. View/Delete Drugs</div>
                </div>
            </section>

            <section id="endpoints">
                <h2 class="text-3xl font-bold text-center mb-8">API Endpoint Overview</h2>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <h3 class="text-2xl font-bold mb-4 text-center">Endpoint Distribution</h3>
                        <p class="text-center text-[#4d6f83] mb-4">A look at the number of endpoints available in each category.</p>
                        <div class="chart-container h-64 md:h-80">
                            <canvas id="endpointDistributionChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow-md p-6">
                         <h3 class="text-2xl font-bold mb-4 text-center">Performance Boosters</h3>
                        <p class="text-center text-[#4d6f83] mb-4">Hypothetical API call distribution showing the impact of the 24-hour caching layer, reducing external requests.</p>
                        <div class="chart-container h-64 md:h-80">
                            <canvas id="cachingImpactChart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <section id="endpoint-details">
                <div class="space-y-8">
                    <div>
                        <h3 class="text-2xl font-bold mb-4">User Authentication</h3>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="bg-white rounded-lg shadow-md p-6 space-y-3">
                                <div class="flex items-center gap-3">
                                    <span class="method-tag method-post">POST</span>
                                    <p class="font-mono text-sm">/api/register</p>
                                </div>
                                <p class="text-[#4d6f83]">Allows a new user to register. Requires name, email, and password.</p>
                            </div>
                            <div class="bg-white rounded-lg shadow-md p-6 space-y-3">
                                <div class="flex items-center gap-3">
                                    <span class="method-tag method-post">POST</span>
                                    <p class="font-mono text-sm">/api/login</p>
                                </div>
                                <p class="text-[#4d6f83]">Authenticates a user and returns a Sanctum API token.</p>
                            </div>
                        </div>
                    </div>

                     <div>
                        <h3 class="text-2xl font-bold mb-4">Public Search Endpoint</h3>
                        <div class="bg-white rounded-lg shadow-md p-6 space-y-3">
                            <div class="flex items-center gap-3">
                                <span class="method-tag method-get">GET</span>
                                <p class="font-mono text-sm">/api/search?drug_name={name}</p>
                            </div>
                            <p class="text-[#4d6f83]">Searches for drugs by name. Returns the top 5 SBD results with their ingredients and dosage forms.</p>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-2xl font-bold mb-4">Private Medication Endpoints (Authenticated)</h3>
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="bg-white rounded-lg shadow-md p-6 space-y-3">
                                <div class="flex items-center gap-3">
                                    <span class="method-tag method-get">GET</span>
                                    <p class="font-mono text-sm">/api/user/drugs</p>
                                </div>
                                <p class="text-[#4d6f83]">Retrieves the authenticated user's full medication list.</p>
                            </div>
                            <div class="bg-white rounded-lg shadow-md p-6 space-y-3">
                                <div class="flex items-center gap-3">
                                    <span class="method-tag method-post">POST</span>
                                    <p class="font-mono text-sm">/api/user/drugs</p>
                                </div>
                                <p class="text-[#4d6f83]">Adds a new drug to the user's list, identified by its `rxcui`.</p>
                            </div>
                             <div class="bg-white rounded-lg shadow-md p-6 space-y-3">
                                <div class="flex items-center gap-3">
                                    <span class="method-tag method-delete">DELETE</span>
                                    <p class="font-mono text-sm">/api/user/drugs/{rxcui}</p>
                                </div>
                                <p class="text-[#4d6f83]">Deletes a specific drug from the user's medication list.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="tech-stack" class="bg-white rounded-lg shadow-md p-6">
                 <h2 class="text-3xl font-bold text-center mb-8">Technology & Setup</h2>
                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                     <div>
                        <h3 class="text-2xl font-bold mb-4">Technical Stack</h3>
                        <ul class="space-y-3">
                            <li class="flex items-center"><span class="text-2xl mr-4">üêò</span><div><span class="font-bold">PHP 8.1+</span><br>Core application language.</div></li>
                            <li class="flex items-center"><span class="text-2xl mr-4">üì¶</span><div><span class="font-bold">Composer</span><br>Dependency management.</div></li>
                            <li class="flex items-center"><span class="text-2xl mr-4">üê¨</span><div><span class="font-bold">MySQL</span><br>Relational database server.</div></li>
                            <li class="flex items-center"><span class="text-2xl mr-4">üõ°Ô∏è</span><div><span class="font-bold">Laravel Sanctum</span><br>API token authentication.</div></li>
                        </ul>
                     </div>
                      <div>
                        <h3 class="text-2xl font-bold mb-4">Quickstart Commands</h3>
                        <div class="space-y-2">
                             <p class="text-[#4d6f83]">Get up and running in a few steps.</p>
                             <code class="block code-block">composer install</code>
                             <code class="block code-block">cp .env.example .env</code>
                             <code class="block code-block">php artisan key:generate</code>
                             <code class="block code-block">php artisan migrate</code>
                             <code class="block code-block">php artisan serve</code>
                        </div>
                     </div>
                 </div>
            </section>

        </main>

        <footer class="text-center mt-12 pt-8 border-t border-[#b3d1d8]">
            <p class="text-[#4d6f83]">Infographic generated based on the Drug Search & Tracker API specification.</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const chartColors = {
                darkBlue: '#003f5c',
                mediumBlue: '#4d6f83',
                lightBlue: '#7e9fad',
                paleBlue: '#b3d1d8',
                offWhite: '#f2f2f2'
            };

            const processLabel = (label) => {
                const maxLength = 16;
                if (typeof label !== 'string' || label.length <= maxLength) {
                    return label;
                }
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + ' ' + word).trim().length > maxLength) {
                        lines.push(currentLine.trim());
                        currentLine = word;
                    } else {
                        currentLine = (currentLine + ' ' + word).trim();
                    }
                });
                if (currentLine) {
                    lines.push(currentLine.trim());
                }
                return lines;
            };

            const defaultTooltipCallback = {
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                if (Array.isArray(label)) {
                                  return label.join(' ');
                                }
                                return label;
                            }
                        }
                    },
                    legend: {
                         labels: {
                            color: chartColors.darkBlue
                        }
                    }
                },
                scales: {
                    y: {
                        ticks: { color: chartColors.darkBlue },
                        grid: { color: 'rgba(0, 63, 92, 0.1)' }
                    },
                    x: {
                        ticks: { color: chartColors.darkBlue },
                        grid: { display: false }
                    }
                },
                maintainAspectRatio: false
            };

            const endpointCtx = document.getElementById('endpointDistributionChart');
            if(endpointCtx) {
                new Chart(endpointCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Authentication', 'Public Search', 'Private Medication'].map(processLabel),
                        datasets: [{
                            label: '# of Endpoints',
                            data: [2, 1, 3],
                            backgroundColor: [chartColors.darkBlue, chartColors.mediumBlue, chartColors.lightBlue],
                            borderColor: [chartColors.darkBlue, chartColors.mediumBlue, chartColors.lightBlue],
                            borderWidth: 1
                        }]
                    },
                    options: { ...defaultTooltipCallback }
                });
            }

            const cachingCtx = document.getElementById('cachingImpactChart');
            if(cachingCtx) {
                new Chart(cachingCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Cached Responses', 'Live API Calls'],
                        datasets: [{
                            label: 'API Call Distribution',
                            data: [85, 15],
                            backgroundColor: [chartColors.darkBlue, chartColors.lightBlue],
                            hoverOffset: 4
                        }]
                    },
                     options: {
                        plugins: {
                            tooltip: {
                                callbacks: {
                                    title: function(tooltipItems) {
                                        return tooltipItems[0].label;
                                    }
                                }
                            },
                             legend: {
                                 labels: {
                                    color: chartColors.darkBlue
                                }
                            }
                        },
                        maintainAspectRatio: false
                    }
                });
            }
        });
    </script>
</body>
</html>
